# PSI, IV, WOE, KS, GINI

PSI 模型稳定度指标 （PSI一般作为一个衡量模型稳定性的指标）

稳定度指标\(population stability index ,PSI\)可衡量测试样本及模型开发样本评分的的分布差异，为最常见的模型稳定度评估指针。其实PSI表示的就是按分数分档后，针对不同样本，或者不同时间的样本，population分布是否有变化，就是看各个分数区间内人数占总人数的占比是否有显著变化。

![](../../.gitbook/assets/image%20%2853%29.png)

**PSI实际应用范例：**

1）样本外测试

　　针对不同的样本测试一下模型稳定度，比如训练集与测试集，也能看出模型的训练情况，我理解是看出模型的方差情况。

2）时间外测试

　　测试基准日与建模基准日相隔越远，测试样本的风险特征和建模样本的差异可能就越大，因此PSI值通常较高。至此也可以看出模型建的时间太长了，是不是需要重新用新样本建模了。

PSI与KL divergence的关系：（其实PSI也是一种描述分布差异的指标）

$$
\begin{aligned}
\sum_{10}^{i-1}(A_{i}-E_{i})* \log(A_{i}/E_{i}) 
&= \sum_{10}^{i-1}(A_{i} * \log(A_{i}/E_{i})+ E_{i}*\log(E_{i}/A_{i}))\\
&=\sum_{10}^{i-1}(A_{*}*\log(A_{i}/E_{i}))+\sum_{10}^{i-1}E_{i}*\log(E_{i}/A_{i})
\end{aligned}
$$

根据以上公式我们可以发现PSI其实是（实际分布与预期分布的KL）+（预期分布与实际分布的KL）

可以理解成是A和E的KL散度的对称化处理。



IV







模型区分度指标（KS，GINI）

KS（Kolmogorov-Smirnov）用于模型风险区分能力进行评估，是用于区分正负样本分隔程度的评价指标

KS的取值范围是[0,1]，通常来说，KS的值越大，表明正负样本的区分程度越好。但并非越高越好。

征信模型中，最期望得到的信用分数分布是正态分布。对于正负样本而言，也都是期望正态分布。如果KS过大超过0.9，则认为正负样本分的过开，是极端的分布情况。

PS：*KS所代表的是模型的分隔能力，并不代表分隔的样本是准确的。正负样本完全分错，KS值也可能很高。*

KS的计算方法与ROC相似。

1. 根据模型的输出概率，从大到小排列

2. 比如说设置10%的阈值，计算出不同的TPR = TP/(TP+FN) , FPR=FP/(FP+FN) 

3. 我们以每10%（也可以是别的阈值）为横坐标，TPR和FPR为纵坐标，可以得到两条K-S曲线。那么KS值就是K-S曲线中两条曲线之间的最大间隔距离。KS = max(TPR-FPR)

   ![è¿éåå¾çæè¿°](https://img-blog.csdn.net/20171012171557401?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMzQyMTYyOQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)



风控情景下的GINI系数

1. 计算每个评分区间的好坏账户数
2. 计算每个评分区间的（累计好账户数/总好账户数）的比率（good%）以及 （累计坏账户数/总坏帐户数）的比率（bad%）
3. 计算好账户占比和坏帐户占比得出下图的曲线。即绘制一条（good%/bad%）的曲线。
4. 计算出图中阴影部分的面积，阴影面积占直角三角形的ABC的面积的百分比，就是GINI系数。











